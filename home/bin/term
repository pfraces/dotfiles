#!/bin/bash
#
# From urxvtc man page:
#
# If everything went well, urxvtc returns with an exit status of 0.  If
# contacting the daemon fails, it exits with the exit status 2. In all other
# error cases it returns with status 1.
#
# This can be used to implement auto-starting behaviour, by checking for an 
# exit status of 2, running "urxvtd -f -q" and retrying the call to urxvtc,
# like this:

[ $# -gt 0 ] && args="-e $@"
urxvtc $args
if [ $? -eq 2 ]; then
   urxvtd -q -o -f
   urxvtc $args
fi
